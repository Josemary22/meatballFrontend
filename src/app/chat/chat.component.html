<ion-header class="marronClaro">
  <ion-toolbar class="marronClaro">
    <div class="header-content">
      <ion-title class="blanco">Chat</ion-title>
      <app-navbar-superior></app-navbar-superior>
      <div class="back-arrow" id="back-arrow">
      </div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid class="sin-espacios">
    <ion-row class="sin-espacios">

      <ion-col *ngIf="chats.length === 0" size="12" class="centered-content">
        <ion-icon name="chatbubbles-outline"></ion-icon>
        <ion-text>No hay chat disponibles</ion-text>
        <ion-text>Prueba a enviar un mensaje</ion-text>
      </ion-col>

      <ion-col *ngFor="let chat of chats; let i = index" size="12" class="sin-espacios" (click)="navigateToMensajes(chat.perfilDTO?.id)">
        <ion-item [ngClass]="{'tarjetaImpar': i % 2 === 0, 'tarjetaPar': i % 2 !== 0}">
          <ion-thumbnail slot="start">
            <img alt="Silhouette of mountains" src="{{chat.perfilDTO?.fotoPerfilLink || 'assets/icon/foto_perfil.webp'}}" />
          </ion-thumbnail>
          <ion-grid>
            <ion-row>
              <ion-col>
                <ion-label class="textoUsuario">{{chat.perfilDTO?.username}}</ion-label>
                <ion-label class="mensaje">{{chat.mensaje}}</ion-label>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-col>

    </ion-row>
  </ion-grid>
</ion-content>
<app-navbar-inferior></app-navbar-inferior>
